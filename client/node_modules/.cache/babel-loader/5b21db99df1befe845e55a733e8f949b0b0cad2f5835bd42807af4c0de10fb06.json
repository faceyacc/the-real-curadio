{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ty/projects/curadio/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ty/projects/curadio/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ty/projects/curadio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled from\"styled-components\";import{useState,useEffect}from'react';import{accessToken,logout,getCurrentUserProfile}from'./spotify';import{GlobalStyle}from'./styles';import{catchErrors}from'./utils';import{BrowserRouter as Router,Routes,useLocation,Route}from\"react-router-dom\";import{Start,Form,Login,Home,Playlist}from'./pages';import Artist from'./pages/Artist';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StyledLogoutButton=_styled.button.withConfig({displayName:\"App__StyledLogoutButton\",componentId:\"sc-1tc4o2e-0\"})([\"position:absolute;top:37px;right:var(--spacing-md);padding:var(--spacing-xs) var(--spacing-sm);background-color:rgba(0,0,0,.7);color:var(--white);font-size:var(--fz-sm);font-weight:700;border-radius:var(--border-radius-pill);z-index:10;@media (min-width:768px){right:var(--spacing-lg);}\"]);// Scroll to top of page when changing routes\n// https://reactrouter.com/web/guides/scroll-restoration/scroll-to-top\nfunction ScrollToTop(){var _useLocation=useLocation(),pathname=_useLocation.pathname;useEffect(function(){window.scrollTo(0,0);},[pathname]);}function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];useEffect(function(){setToken(accessToken);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$getCurrentUser,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getCurrentUserProfile();case 2:_yield$getCurrentUser=_context.sent;data=_yield$getCurrentUser.data;setProfile(data);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();catchErrors(fetchData());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:!token?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledLogoutButton,{onClick:logout,children:\"Log Out\"}),/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(ScrollToTop,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/start\",element:/*#__PURE__*/_jsx(Start,{})}),/*#__PURE__*/_jsx(Route,{path:\"/playlist\",element:/*#__PURE__*/_jsx(Playlist,{})}),/*#__PURE__*/_jsx(Route,{path:\"/artist\",element:/*#__PURE__*/_jsx(Artist,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forms\",element:/*#__PURE__*/_jsx(Form,{})}),/*#__PURE__*/_jsx(Route,{path:\"/top-artists\",element:/*#__PURE__*/_jsx(\"h1\",{children:\"Top Artists\"})}),/*#__PURE__*/_jsx(Route,{path:\"/top-tracks\",element:/*#__PURE__*/_jsx(\"h1\",{children:\"Top Tracks\"})}),/*#__PURE__*/_jsx(Route,{path:\"/playlists/:id\",element:/*#__PURE__*/_jsx(\"h1\",{children:\"Playlists\"})}),/*#__PURE__*/_jsx(Route,{path:\"/playlists/\",element:/*#__PURE__*/_jsx(\"h1\",{children:\"Playlists\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})})]})]})]})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","accessToken","logout","getCurrentUserProfile","GlobalStyle","catchErrors","BrowserRouter","Router","Routes","useLocation","Route","Start","Form","Login","Home","Playlist","Artist","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StyledLogoutButton","styled","button","withConfig","displayName","componentId","ScrollToTop","_useLocation","pathname","window","scrollTo","App","_useState","_useState2","_slicedToArray","token","setToken","_useState3","_useState4","profile","setProfile","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getCurrentUser","data","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","className","children","onClick","path","element"],"sources":["/Users/ty/projects/curadio/client/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { accessToken, logout, getCurrentUserProfile } from './spotify'\nimport styled from 'styled-components/macro';\nimport { GlobalStyle } from './styles'\nimport { catchErrors } from './utils'\nimport {BrowserRouter as Router,\n  Routes,\n  useLocation,\n  Route\n} from \"react-router-dom\";\nimport { Start, Form, Login, Home, Playlist } from './pages';\nimport Artist from './pages/Artist';\n\n\n\nconst StyledLogoutButton = styled.button`\n  position: absolute;\n  top: 37px;\n  right: var(--spacing-md);\n  padding: var(--spacing-xs) var(--spacing-sm);\n  background-color: rgba(0,0,0,.7);\n  color: var(--white);\n  font-size: var(--fz-sm);\n  font-weight: 700;\n  border-radius: var(--border-radius-pill);\n  z-index: 10;\n  @media (min-width: 768px) {\n    right: var(--spacing-lg);\n  }\n`;\n\n\n\n\n// Scroll to top of page when changing routes\n// https://reactrouter.com/web/guides/scroll-restoration/scroll-to-top\nfunction ScrollToTop() { \n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0,0);\n  }, [pathname]);\n}\n\nfunction App() {\n  const [token, setToken] = useState(null)\n  const [profile, setProfile] = useState(null)\n\n  useEffect(() => {\n    setToken(accessToken);\n\n    const fetchData = async () => {      \n      const { data } = await getCurrentUserProfile();\n      setProfile(data);\n    }\n\n    catchErrors(fetchData())\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <GlobalStyle />\n      <header className=\"App-header\">              \n        {!token ? (          \n          <Login/>\n        ) : (\n          <>\n            <StyledLogoutButton onClick={logout}>Log Out</StyledLogoutButton>\n            <Router>\n              <ScrollToTop />\n              <Routes>\n                \n                <Route path=\"/start\" element={ <Start/> }></Route>\n\n                <Route path=\"/playlist\" element={ <Playlist/> }></Route>\n\n                <Route path=\"/artist\" element={ <Artist/> }></Route>\n\n                <Route path=\"/forms\" element={ <Form/> }></Route>                          \n\n                <Route path=\"/top-artists\" element={<h1>Top Artists</h1>}></Route>\n\n                <Route path=\"/top-tracks\" element={<h1>Top Tracks</h1>}></Route>\n\n                <Route path=\"/playlists/:id\" element={<h1>Playlists</h1>}></Route>\n\n                <Route path=\"/playlists/\" element={<h1>Playlists</h1>}></Route>\n      \n                <Route path=\"/\" element={ <Home/> }></Route>\n              </Routes> \n            </Router>\n          </>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}